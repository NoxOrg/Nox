{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Definition namespace for attributes describing the transform component of an ETL integration.",
  "description": "This section details ETL transform attributes like field mapping and value lookups.",
  "oneOf": [
    {
      "type": "object"
    },
    {
      "type": "null"
    }
  ],
  "properties": {
    "mappings": {    
      "title": "Source to target column mappings details of the ETL transform component.",
      "description": "Specifies one or more column mappings between source and target in an ETL data integration.",
      "oneOf": [
        {
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "items":   {
        "title": "Mapping details of the ETL transform component.",
        "description": "Specifies how columns are mapped between source and target in an ETL data integration.",
        "oneOf": [
          {
            "type": "object"
          },
          {
            "type": "null"
          }
        ],
        "required": [
          "sourceColumn",
          "targetAttribute"
        ],
        "properties": {
          "sourceColumn": {    
            "title": "Column name to be mapped at the ETL data source.",
            "description": "Specifies the source column to be mapped during the ETL transform.",
            "type": "string"
          },
          "converter": {    
            "title": "Specify case conversion during source to target transform.",
            "description": "Specifies whether any case conversion is performed during the ETL transform. Source data may be converted to lowercase or uppercase for example.",
            "oneOf": [
              {
                "type": "string",
                "enum": [
                  "lowerCase",
                  "upperCase"
                ]
              },
              {
                "type": "null"
              }
            ]
          },
          "targetAttribute": {    
            "title": "Target attribute to which source column is to be mapped.",
            "description": "Specifies the name of the target attribute to to which the source column is mapped during the ETL transform.",
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "additionalProperties": false
    },
    "lookups": {    
      "title": "Details of lookups performed during the ETL transform component.",
      "description": "Specifies information related to lookups during the ETL transform. Attributes include source columns and target attributes, as well as match directives like lookup table and column and return column name.",
      "oneOf": [
        {
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "items":   {
        "title": "Details pertaining to a lookup performed during the ETL transform component.",
        "description": "Specifies information related to a data lookup. Includes the source column and target attribute, as well as match directives like lookup table, column and return column name.",
        "oneOf": [
          {
            "type": "object"
          },
          {
            "type": "null"
          }
        ],
        "required": [
          "sourceColumn",
          "match",
          "targetAttribute"
        ],
        "properties": {
          "sourceColumn": {    
            "title": "Source column used as key for lookup.",
            "description": "Specify the source column of which the content will serve as the key for the lookup.",
            "type": "string"
          },
          "match": {    
            "title": "Attributes related to source table used for the lookup.",
            "description": "Specify information about the source lookup table. This includes table name, lookup column and return column.",
            "type": "object",
            "required": [
              "table",
              "lookupColumn",
              "returnColumn"
            ],
            "properties": {
              "table": {    
                "title": "Name of the lookup table.",
                "description": "Specify the table name used for the lookup at the data source.",
                "type": "string"
              },
              "lookupColumn": {    
                "title": "Name of the lookup column.",
                "description": "Specify the column used for the lookup at the data source.",
                "type": "string"
              },
              "returnColumn": {    
                "title": "Name of the column used for the return value.",
                "description": "Specify the return column of which the value is used for the lookup result.",
                "type": "string"
              }
            },
            "additionalProperties": false
          },
          "targetAttribute": {    
            "title": "Target attribute for lookup result.",
            "description": "Specify the name of the target attribute to which the lookup result will be persisted.",
            "type": "string"
          }
        },
        "additionalProperties": false
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
