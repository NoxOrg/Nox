#
# CountrySync.integration.nox.yaml
#
# yaml-language-server: $schema=../../../../../schemas/integration.json
#

name: CountrySync

description: Synchronization of Country entities with data stored on Nox.Reference project on GitHub.

mergeType: mergeNew

schedule:
  start: Every week on Sunday at 3am
  runOnStartup: true

source:
  name: NoxReferenceCountryData
  description: Curated dataset of all country information at Nox.Reference project repo
  dataConnectionName: NoxReferenceData
  sourceAdapterType: databaseQuery
  queryOptions:
    query: SELECT Id, Name FROM dbo.Countries
    minimumExpectedRecords: 10
    
transformationType: defaultTransform    

target:
  name: CountryTable
  description: The country table of the domain database
  dataConnectionName: CryptocashDb
  targetAdapterType: databaseTable
  databaseOptions:
    tableName: Countries

