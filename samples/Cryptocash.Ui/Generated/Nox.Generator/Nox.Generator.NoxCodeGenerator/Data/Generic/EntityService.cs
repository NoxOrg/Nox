using System.Text.Json;
using System.Text.Json.Serialization;

namespace Cryptocash.Ui.Generated.Data.Generic
{

    /// <summary>
    /// Bespoke Class generated by Nox.Generator used to define ApiUiService and Get Api results
    /// </summary>
    public static class EntityDataService<T>
    {
        /// <summary>
        /// Method used to Get Api results
        /// </summary>
        /// <param name="ApiUiService"></param>
        /// <returns>Task<ApiEntityData?></returns>
        public static async Task<EntityData<T>?> GetEntityData(ApiUiService? ApiUiService)
        {
            await Task.Delay(100); //deliberate for UI to avoid flicker

            EntityData<T>? Entities = JsonSerializer.Deserialize<EntityData<T>>(await ApiDataService.ReadApi(ApiUiService));

            return Entities;
        }
    }
}